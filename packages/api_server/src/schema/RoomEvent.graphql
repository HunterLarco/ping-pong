#import '@/schema/Types.graphql'

type RoomEvent {
  type: RoomEventType!
  timestamp: Date!
  details: RoomEventDetails!
}

enum RoomEventType {
  Connected
  ChatMessage
}

union RoomEventDetails = ConnectedEvent | ChatMessageEvent

type ConnectedEvent {
  # The connected event sends the client a cursor which can be used to query
  # historical messages from the time of connection.
  cursor: ID!
}

type ChatMessageEvent {
  author: User!
  payload: ChatMessagePayload!
}

type ChatMessagePayload {
  text: String!
}

type User {
  id: ID!
  handle: String!
}
