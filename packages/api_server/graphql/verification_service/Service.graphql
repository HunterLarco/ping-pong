scalar PhoneNumber

type Mutation {
  """
  Part 1 of 2 in phone verification. Calling this mutation will trigger a text
  message to be sent to the desired phone number with a one time password. Use
  `verifyPhoneNumber` to verify the one time password.
  """
  issuePhoneVerification(
    request: IssuePhoneVerificationRequest!
  ): IssuePhoneVerificationResponse!

  """
  Part 2 of 2 in phone verification. By providing the phone number from
  `issuePhoneVerification` and a correct one time password, clients can obtain
  a verification token which can be used in any API requiring identity
  verification.
  """
  verifyPhoneNumber(
    request: VerifyPhoneNumberRequest!
  ): VerifyPhoneNumberResponse!
}

### issuePhoneVerification

input IssuePhoneVerificationRequest {
  "The phone number to verify."
  phoneNumber: PhoneNumber!
}

type IssuePhoneVerificationResponse {
  """
  Indicates if a user is linked to the verified phone number.
  """
  knownPhoneNumber: Boolean!
}

### verifyPhoneNumber

input VerifyPhoneNumberRequest {
  "The phone number to verify."
  phoneNumber: PhoneNumber!

  "The one-time-password texted to the phone number."
  oneTimePassword: ID!
}

type VerifyPhoneNumberResponse {
  """
  A single-use token which can be used in any APIs which require phone
  verification.
  """
  verificationToken: ID!
}
